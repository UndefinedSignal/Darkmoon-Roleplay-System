<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/">

	<Frame name="GameObjectPreview" toplevel="true" enableMouse="true" parent="UIParent" hidden="false" movable="true">
		<Size x="325" y="400"/>
		<Anchors>
			<Anchor point="TOPLEFT" x="70" y="-104"/>
		</Anchors>
<!--
		<Backdrop edgeFile="Interface\DialogFrame\UI-DialogBox-Gold-Border">
			<EdgeSize>
				<AbsValue val="26"/>
			</EdgeSize>
		</Backdrop>
-->
		<Frames>
			<Frame parentKey="Control" toplevel="true" hidden="false">
				<Size x="250" y="107"/>
				<Anchors>
					<Anchor point="LEFT" x="35" y="-30"/>
					<Anchor point="BOTTOMRIGHT" x="-35" y="20"/>
				</Anchors>

                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture name="$parentBackground" atlas="adventureguide-pane-small">
                        </Texture>
                    </Layer>
                </Layers>

				<Frames>
					<Button name="$parentBackwardButton" inherits="RPSObjectControlButtonTemplate">
						<Anchors>
							<Anchor point="CENTER" x="-16" y="-28"/>
						</Anchors>
						<Scripts>
							<OnShow>
								self.icon:SetTexture('Interface\\AddOns\\RPSDarkmoon\\resources\\Control\\down');
								self.icon:SetVertexColor(1, 0.91, 0, 1);
							</OnShow>
							<OnClick>
								RPSCoreFramework:GobPreviewAction(211135851,"back")
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentForwardButton" inherits="RPSObjectControlButtonTemplate">
						<Anchors>
							<Anchor relativeTo="$parentBackwardButton" x="0" y="32"/>
						</Anchors>
						<Scripts>
							<OnShow>
								self.icon:SetTexture('Interface\\AddOns\\RPSDarkmoon\\resources\\Control\\up');
								self.icon:SetVertexColor(1, 0.91, 0, 1);
							</OnShow>
							<OnClick>
								RPSCoreFramework:GobPreviewAction(211135851,"front")
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentRotateRightButton" inherits="RPSObjectControlButtonTemplate">
						<Anchors>
							<Anchor relativeTo="$parentForwardButton" x="32" y="0"/>
						</Anchors>
						<Scripts>
							<OnShow>
								self.icon:SetTexture('Interface\\AddOns\\RPSDarkmoon\\resources\\Control\\rotater');
								self.icon:SetVertexColor(1, 0.91, 0, 1);
							</OnShow>
							<OnClick>
								RPSCoreFramework:GobPreviewAction(211135851,"rright")
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentRotateLeftButton" inherits="RPSObjectControlButtonTemplate">
						<Anchors>
							<Anchor relativeTo="$parentForwardButton" x="-32" y="0"/>
						</Anchors>
						<Scripts>
							<OnShow>
								self.icon:SetTexture('Interface\\AddOns\\RPSDarkmoon\\resources\\Control\\rotatel');
								self.icon:SetVertexColor(1, 0.91, 0, 1);
								--self.icon:SetRotation(-0.9, 0.5)
							</OnShow>
							<OnClick>
								RPSCoreFramework:GobPreviewAction(211135851,"rleft")
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentLeftButton" inherits="RPSObjectControlButtonTemplate">
						<Anchors>
							<Anchor relativeTo="$parentBackwardButton" x="-32" y="0"/>
						</Anchors>
						<Scripts>
							<OnShow>
								self.icon:SetTexture('Interface\\AddOns\\RPSDarkmoon\\resources\\Control\\left');
								self.icon:SetVertexColor(1, 0.91, 0, 1);
								--self.icon:SetRotation(1.55, 0.55)
								--GameObjectPreviewLeftButtonIcon:SetTexCoord(0.57812500, 0.82812500, 0.14843750, 0.27343750)
							</OnShow>
							<OnClick>
								RPSCoreFramework:GobPreviewAction(211135851,"left")
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentRightButton" inherits="RPSObjectControlButtonTemplate">
						<Anchors>
							<Anchor relativeTo="$parentBackwardButton" x="32" y="0"/>
						</Anchors>
						<Scripts>
							<OnShow>
								self.icon:SetTexture('Interface\\AddOns\\RPSDarkmoon\\resources\\Control\\right');
								self.icon:SetVertexColor(1, 0.91, 0, 1);
								--self.icon:SetRotation(-1.55, 0.55)
								--self.icon:SetAllPoints();
							</OnShow>
							<OnClick>
								RPSCoreFramework:GobPreviewAction(211135851,"right")
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentDownButton" inherits="RPSObjectControlButtonTemplate">
						<Anchors>
							<Anchor relativeTo="$parentRightButton" x="32" y="0"/>
						</Anchors>
						<Scripts>
							<OnShow>
								self.icon:SetTexture('Interface\\AddOns\\RPSDarkmoon\\resources\\Control\\floordown');
								self.icon:SetVertexColor(1, 0.91, 0, 1);
								--self.icon:SetRotation(3.141593, 0.52);
								--GameObjectPreviewLeftButtonIcon:SetTexCoord(0.57812500, 0.82812500, 0.14843750, 0.27343750)
							</OnShow>
							<OnClick>
								RPSCoreFramework:GobPreviewAction(211135851,"down")
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentUpButton" inherits="RPSObjectControlButtonTemplate">
						<Anchors>
							<Anchor relativeTo="$parentRotateRightButton" x="32" y="0"/>
						</Anchors>
						<Scripts>
							<OnShow>
								self.icon:SetTexture('Interface\\AddOns\\RPSDarkmoon\\resources\\Control\\floorup');
								self.icon:SetVertexColor(1, 0.91, 0, 1);
								--self.icon:SetRotation(-0.5, -0.5)
								--GameObjectPreviewLeftButtonIcon:SetTexCoord(0.57812500, 0.82812500, 0.14843750, 0.27343750)
							</OnShow>
							<OnClick>
								RPSCoreFramework:GobPreviewAction(211135851,"top")
							</OnClick>
						</Scripts>
					</Button>

					<Button name="$parentCancelButton" inherits="RPSObjectControlButtonTemplate">
						<Anchors>
							<Anchor relativeTo="$parentDownButton" x="32" y="16"/>
						</Anchors>
						<Scripts>
							<OnShow>
								self.icon:SetTexture('Interface\\AddOns\\RPSDarkmoon\\resources\\Control\\cancel');
								self.icon:SetVertexColor(1, 0.91, 0, 1);
								--GameObjectPreviewCancelButtonIcon:SetTexCoord(0.57812500, 0.82812500, 0.14843750, 0.27343750)
							</OnShow>
							<OnClick>
								RPSCoreFramework:GobPreviewAction(211135851,"cancel")
							</OnClick>
						</Scripts>
					</Button>

					<Button name="$parentAcceptButton" inherits="RPSObjectControlButtonTemplate">
						<Anchors>
							<Anchor relativeTo="$parentLeftButton" x="-32" y="16"/>
						</Anchors>
						<Scripts>
							<OnShow>
								self.icon:SetTexture('Interface\\AddOns\\RPSDarkmoon\\resources\\Control\\accept');
								self.icon:SetVertexColor(1, 0.91, 0, 1);
								--GameObjectPreviewAcceptButtonIcon:SetTexCoord(0.57812500, 0.82812500, 0.14843750, 0.27343750)
							</OnShow>
							<OnClick>
								RPSCoreFramework:GobPreviewAction(211135851,"accept")
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
			</Frame>
		    <EditBox name="$parentEditBox" inherits="RPS_EditBox">
		    	<Size x="64" y="32"/>
				<Anchors>
					<Anchor relativeTo="GameObjectPreviewForwardButton" x="0" y="28"/>
				</Anchors>
				<Scripts><!--TestUnit-->
		            <OnEnter>
		                GameTooltip:SetOwner(self, "ANCHOR_CURSOR");
		                GameTooltip:AddLine("|cFFFFFFFFЗначение смещения|r");
		                GameTooltip:Show();
		            </OnEnter>
		            <OnLeave>
		                GameTooltip:Hide();
		            </OnLeave>
			    	<OnEnterPressed>
			    		print("Process")
			    	</OnEnterPressed>
			    	<OnTextChanged>
			    		if self:GetText() == "" then
			    			self:SetText("5");
			    		end
			    	</OnTextChanged>
					<OnEscapePressed>
						self:ClearFocus();
					</OnEscapePressed>
					<OnEnterPressed>
			    		if self:GetText() == "" then
			    			self:SetText("0.1");
			    		end
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
		    </EditBox>

			<PlayerModel name="$parentModelSceneLightray" inherits="MouseDisabledModelTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" x="20" y="-20"/>
					<Anchor point="BOTTOMRIGHT" x="-20" y="85"/>
				</Anchors>
				<Scripts>
					<OnShow>
						self:SetModel(193659);
						GameObjectPreviewModelSceneLightray:SetCamDistanceScale(2.5);
						--self:SetAllPoints();
					</OnShow>
				</Scripts>
			</PlayerModel>
			<Frame name="$parentBorder">
				<Anchors>
					<Anchor point="TOPLEFT" x="35" y="-20"/>
					<Anchor point="BOTTOMRIGHT" x="-35" y="125"/>
				</Anchors>
				<Frames>
					<PlayerModel name="$parentModel" inherits="ModelWithControlsTemplate">
						<Anchors>
							<Anchor point="TOPLEFT" x="0" y="0"/>
							<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
						</Anchors>
						<!--<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
							<EdgeSize val="1"/>
							<TileSize val="10" />
							<BackgroundInsets left="3" right="3" top="3" bottom="3" />
						</Backdrop>-->
						<Scripts>
							<OnShow>
								self:SetModel(1602427);
								--self:SetAllPoints();
							</OnShow>
							<OnMouseWheel>
								RPSCoreFramework:GOB_OnMouseWheel(self, delta, 1, 0.1)
							</OnMouseWheel>
						</Scripts>
					</PlayerModel>
				</Frames>
			</Frame>

			<Button parentKey="Close" name="$parentClose" inherits="UIPanelCloseButton">
				<Anchors>
					<Anchor point="RIGHT" x="-35" y="-90"/>
				</Anchors>
			</Button>
			<Button parentKey="Light">
				<Size x="20" y="20"/>
				<NormalTexture atlas="DruidEclipse-BaseMoon"/>
				<PushedTexture atlas="DruidEclipse-BaseMoon"/>
				<HighlightTexture atlas="AftLevelup-WhiteStarBurst" alphaMode="ADD"/>
				<Scripts>
					<OnClick>
						if self.mode == nil then
							self.mode = 1;
						end
						if self.mode == 1 then
							self.mode = 0;
							self:SetNormalAtlas("DruidEclipse-SolarMoon");
							self:SetPushedAtlas("DruidEclipse-SolarMoon");
							GameObjectPreviewModelSceneLightray:Hide();
						else
							self.mode = 1;
							self:SetNormalAtlas("DruidEclipse-BaseMoon");
							self:SetPushedAtlas("DruidEclipse-BaseMoon");
							GameObjectPreviewModelSceneLightray:Show();
						end						
					</OnClick>
				</Scripts>
				<Anchors>
					<Anchor relativeTo="GameObjectPreviewBackground" point="TOPLEFT" x="12" y="-10"/>
				</Anchors>
			</Button>
		</Frames>
	</Frame>
</Ui>

